<!DOCTYPE html>

<html>
<head>
	<title>Processee</title>

	<link rel="stylesheet" type="text/css" href="./style/style.css">
	<link rel="stylesheet" type="text/css" href="./style/codemirror.css">

	<script type="text/javascript" src="./lib/jquery.min.js"></script>
	<script type="text/javascript" src="./lib/processing.min.js"></script>
	<script type="text/javascript" src="./lib/coffee-script.min.js"></script>
	<script type="text/javascript" src="./lib/codemirror.js"></script>
	<script type="text/javascript" src="./lib/mode-coffeescript.js"></script>

	<script type="text/javascript" src="./js/processee.js"></script>
	<script type="text/javascript" src="./js/main.js"></script>
</head>

<body>
	<div class="editor">
<textarea id="codemirror">
# To start Processing, pass processing.do a function to run each frame.
processing.do ->
  # Set the canvas size.
  @size 200, 300
  # Make the background transparent.
  @background 0, 0
  
  # @do blocks are the core of processee's power - they create a 'scope'
  # of Processing's global state variables like fill and stroke color.
  # Settings inside a @do block do not 'leak' out of it.
  @do ->
    # State inside a @do block is set using properties rather than function
    # calls. Note that all colors are constructed in a specific color mode:
    # rgb, hsv or gray.
    @fillColor = rgb 0, 100, 200
    @strokeColor = rgb 200, 120, 0
    
    # The @drawX functions allow you to construct shapes with named parameter
    # lists to improve readability.
    @drawRect {
      x: 20
      y: 20
      width: 20
      height: 20
    }
    
    # This nested @do block inherits the state 'scope' from the current @do
    # block, so the @fillColor from above is retained.
    @do ->
      @strokeColor = gray 200
      @drawRect { x: 40, y: 40, width: 20, height: 20 }
  
  # Regular Processing functions can be called too if you don't like the
  # verbose syntax.
  @drawRect 60, 60, 20, 20
</textarea>
	</div>
	<div class="output" id="output">
		<div class="output black"></div>
		<canvas class="output" id="processing"></canvas>
	</div>
	<div class="buttons">
		<a class="button run" onclick="run();">Run</a>
		<a class="button stop" onclick="stop();">Stop</a>
		<a class="button stop" href="http://github.com/eightyeight/processee">Git</a>
	</div>
</body>
</html>
